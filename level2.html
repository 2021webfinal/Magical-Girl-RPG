<!DOCTYPE html>
<html>
	<head>
		<title>初級挑戰</title>
		<meta charset="UTF-8">
		<style>
			@font-face {
				font-family: word;
				src: url("Silver.ttf");
        	}
			#n{
				text-align: right;
			}
			.ml3 {
			  
			  font-weight: 90;
			  font-size: 1.2em;
			  color: #c2afa5;
			}
			.ctbox {
				border: solid 5px #fae1dd;
				background-color: #f8edebec;
				height: 250px;
				width: 500px;
				overflow: auto;
				position:absolute;
				left: 100px;
				bottom: 50px;
			}
			#chatbox{
				margin-left: 10px;
				margin-top: 10px;
				margin-bottom: 0;
				line-height:42px
			}
			body{
				background-color: #c49d98;
				
				background-size: contain;
				background-repeat: no-repeat;
				background-position-x: center;
				font-family: word;
				font-size: 40px;
				color: white;
				-ms-overflow-style: none;
    			height: 100%;
				overflow: -moz-hidden-unscrollable;
			}
			body::-webkit-scrollbar {
    			display: none;
			}
			.ctbox::-webkit-scrollbar {
    			display: none;
			}
			space{
				color: lightgreen;
			}
			.aboriginal{
				color: red;
				font-size: 1.35em;
			}
			.wooden{
				width:400px;height:400px;
				position:absolute;
				left:-450px;
				top:-50px;
				padding-top: 50px;
			}
			#bg{
				z-index: -1;
				position: absolute;
				left: 0;
				top: 0;
			}
			#p{
				position: absolute;
				top: 20px;
				left: 40%;
				font-size: 60px;
				margin: 0;
			}
			#go , #back , #tool{
				border: 3px solid #FFF;
				padding: 10px 30px;
				background-color:  #c49d987a;
				border-radius: 10px;
				color: #FFF;
				text-align: center;
				font-family: word;
				font-size: 55px;
				margin-right: 20px;
			}
			#ouo {
				position: absolute;
				bottom: 50px;
				right: 200px;
			}
			#battle_display{
				position: absolute;
				bottom: 150px;
				right: 200px;
			}
			#attack,#skill,#run_out,#take_look{
				border: 3px solid #FFF;
				padding: 10px 30px;
				background-color:  #c49d987a;
				border-radius: 10px;
				color: #FFF;
				text-align: center;
				font-family: word;
				font-size: 55px;
				margin-right: 20px;
			}
			#kill_or_forgive,#open_or_skip{
				top: 39%;
				position: absolute;
				left: 15%;
			}
			#kill , #forgive,#open,#skip{
				border: 3px solid #FFF;
				padding: 10px 30px;
				background-color:  #c49d987a;
				border-radius: 10px;
				color: #FFF;
				text-align: center;
				font-family: word;
				font-size: 55px;
				margin-right: 25px;
			}
			img{
				align:left;
			}
		</style>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
	</head>
	<body>
		<div id="bg">
			<div class="content"><div class="inner"><div class="viewer shadow" style="background-color: rgb(255, 255, 255);"><div class="inner" style="width: 1920px; height: 1080px;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;background:#ffffff;display:block;z-index:1;position:relative" width="1920" height="1080" preserveAspectRatio="xMidYMid" viewBox="0 0 1920 1080">
				<g transform="translate(960,540) scale(1,1) translate(-960,-540)"><defs>
				  <linearGradient id="ldbk-photon-ffi5kuty65v-lg" x1="301.39999999999986" x2="1920" y1="0" y2="0" gradientUnits="userSpaceOnUse">
					<stop stop-color="#d0a09a" offset="0"></stop>
					<stop stop-color="#f0dada" offset="1"></stop>
				  </linearGradient>
				  <mask id="ldbk-photon-ffi5kuty65v-mask">
				  <g><path d="M2220 -0.5 L308.6371744259375 -0.5 A15 15 0 0 1 308.6371744259375 30.5 L2220 30.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="39.103643181803875;0;39.103643181803875" begin="0s"></animateTransform>
				</path><path d="M1982.7890151404845 -0.5 L2015.578030280969 -0.5 A15 15 0 0 1 2015.578030280969 30.5 L1982.7890151404845 30.5 A15 15 0 0 1 1982.7890151404845 -0.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;1" values="0;-1886.2674811884751" begin="0s"></animateTransform>
				  <animate attributeName="opacity" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="0s"></animate>
				</path><path d="M2220 29.5 L276.2449865340825 29.5 A15 15 0 0 0 276.2449865340825 60.5 L2220 60.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-33.77944734147633;0;-33.77944734147633" begin="-0.5208333333333333s"></animateTransform>
				</path><path d="M389.6879459258605 29.5 L407.72281226621544 29.5 A15 15 0 0 1 407.72281226621544 60.5 L389.6879459258605 60.5 A15 15 0 0 1 389.6879459258605 29.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-0.5208333333333333s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-0.5208333333333333s"></animate>
				</path><path d="M2220 59.5 L291.1347822949192 59.5 A15 15 0 0 1 291.1347822949192 90.5 L2220 90.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="33.10224889165538;0;33.10224889165538" begin="-1.0416666666666665s"></animateTransform>
				</path><path d="M1979.0456415246651 59.5 L2008.0912830493303 59.5 A15 15 0 0 1 2008.0912830493303 90.5 L1979.0456415246651 90.5 A15 15 0 0 1 1979.0456415246651 59.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;-2396.1307644128874" begin="-1.0416666666666665s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-1.0416666666666665s"></animate>
				</path><path d="M2220 89.5 L251.69847936256542 89.5 A15 15 0 0 0 251.69847936256542 120.5 L2220 120.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-26.417238439353603;0;-26.417238439353603" begin="-1.5625s"></animateTransform>
				</path><path d="M379.2614778200543 89.5 L405.4980823955312 89.5 A15 15 0 0 1 405.4980823955312 120.5 L379.2614778200543 120.5 A15 15 0 0 1 379.2614778200543 89.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-1.5625s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-1.5625s"></animate>
				</path><path d="M2220 119.5 L319.36288559804007 119.5 A15 15 0 0 1 319.36288559804007 150.5 L2220 150.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="25.044575205399106;0;25.044575205399106" begin="-2.083333333333333s"></animateTransform>
				</path><path d="M1966.825890605192 119.5 L1983.651781210384 119.5 A15 15 0 0 1 1983.651781210384 150.5 L1966.825890605192 150.5 A15 15 0 0 1 1966.825890605192 119.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;-2130.5328090577523" begin="-2.083333333333333s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-2.083333333333333s"></animate>
				</path><path d="M2220 149.5 L250.7960395473192 149.5 A15 15 0 0 0 250.7960395473192 180.5 L2220 180.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-42.95295924231087;0;-42.95295924231087" begin="-2.604166666666667s"></animateTransform>
				</path><path d="M342.34150962615604 149.5 L356.1102938319111 149.5 A15 15 0 0 1 356.1102938319111 180.5 L342.34150962615604 180.5 A15 15 0 0 1 342.34150962615604 149.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-2.604166666666667s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-2.604166666666667s"></animate>
				</path><path d="M2220 179.5 L289.7980920823202 179.5 A15 15 0 0 1 289.7980920823202 210.5 L2220 210.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="44.093246814037045;0;44.093246814037045" begin="-3.125s"></animateTransform>
				</path><path d="M1968.2773298073769 179.5 L1986.5546596147537 179.5 A15 15 0 0 1 1986.5546596147537 210.5 L1968.2773298073769 210.5 A15 15 0 0 1 1968.2773298073769 179.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;1" values="0;-2686.5593678926252" begin="-3.125s"></animateTransform>
				  <animate attributeName="opacity" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-3.125s"></animate>
				</path><path d="M2220 209.5 L225.71001564533276 209.5 A15 15 0 0 0 225.71001564533276 240.5 L2220 240.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-42.292908820177104;0;-42.292908820177104" begin="-3.6458333333333335s"></animateTransform>
				</path><path d="M353.54063429101666 209.5 L373.71223480709585 209.5 A15 15 0 0 1 373.71223480709585 240.5 L353.54063429101666 240.5 A15 15 0 0 1 353.54063429101666 209.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-3.6458333333333335s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-3.6458333333333335s"></animate>
				</path><path d="M2220 239.5 L267.91907364098347 239.5 A15 15 0 0 1 267.91907364098347 270.5 L2220 270.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="29.69868389834148;0;29.69868389834148" begin="-4.166666666666666s"></animateTransform>
				</path><path d="M1984.2298058963436 239.5 L2018.4596117926872 239.5 A15 15 0 0 1 2018.4596117926872 270.5 L1984.2298058963436 270.5 A15 15 0 0 1 1984.2298058963436 239.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;1" values="0;-2106.953472179059" begin="-4.166666666666666s"></animateTransform>
				  <animate attributeName="opacity" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-4.166666666666666s"></animate>
				</path><path d="M2220 269.5 L229.42843995871203 269.5 A15 15 0 0 0 229.42843995871203 300.5 L2220 300.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-48.628822410025805;0;-48.628822410025805" begin="-4.6875s"></animateTransform>
				</path><path d="M358.45249945649516 269.5 L380.4125476308586 269.5 A15 15 0 0 1 380.4125476308586 300.5 L358.45249945649516 300.5 A15 15 0 0 1 358.45249945649516 269.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-4.6875s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-4.6875s"></animate>
				</path><path d="M2220 299.5 L294.4826308055151 299.5 A15 15 0 0 1 294.4826308055151 330.5 L2220 330.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="38.66582080199139;0;38.66582080199139" begin="-5.208333333333334s"></animateTransform>
				</path><path d="M1989.4274142370014 299.5 L2028.8548284740027 299.5 A15 15 0 0 1 2028.8548284740027 330.5 L1989.4274142370014 330.5 A15 15 0 0 1 1989.4274142370014 299.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;-2121.521780008801" begin="-5.208333333333334s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-5.208333333333334s"></animate>
				</path><path d="M2220 329.5 L254.73688589464882 329.5 A15 15 0 0 0 254.73688589464882 360.5 L2220 360.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-43.004258057667705;0;-43.004258057667705" begin="-5.729166666666667s"></animateTransform>
				</path><path d="M333.6353543742712 329.5 L366.98385945424013 329.5 A15 15 0 0 1 366.98385945424013 360.5 L333.6353543742712 360.5 A15 15 0 0 1 333.6353543742712 329.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-5.729166666666667s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-5.729166666666667s"></animate>
				</path><path d="M2220 359.5 L280.5855699619044 359.5 A15 15 0 0 1 280.5855699619044 390.5 L2220 390.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="43.014329834421666;0;43.014329834421666" begin="-6.25s"></animateTransform>
				</path><path d="M1962.0361768988278 359.5 L1974.0723537976555 359.5 A15 15 0 0 1 1974.0723537976555 390.5 L1962.0361768988278 390.5 A15 15 0 0 1 1962.0361768988278 359.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;-2434.4006462059447" begin="-6.25s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-6.25s"></animate>
				</path><path d="M2220 389.5 L256.0750687231441 389.5 A15 15 0 0 0 256.0750687231441 420.5 L2220 420.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-31.38508332194795;0;-31.38508332194795" begin="-6.770833333333333s"></animateTransform>
				</path><path d="M364.6341731963787 389.5 L400.4703779611067 389.5 A15 15 0 0 1 400.4703779611067 420.5 L364.6341731963787 420.5 A15 15 0 0 1 364.6341731963787 389.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-6.770833333333333s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-6.770833333333333s"></animate>
				</path><path d="M2220 419.5 L277.60815960369723 419.5 A15 15 0 0 1 277.60815960369723 450.5 L2220 450.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="31.646965654304015;0;31.646965654304015" begin="-7.291666666666667s"></animateTransform>
				</path><path d="M1969.7377276802572 419.5 L1989.4754553605144 419.5 A15 15 0 0 1 1989.4754553605144 450.5 L1969.7377276802572 450.5 A15 15 0 0 1 1969.7377276802572 419.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;-2606.042783188892" begin="-7.291666666666667s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-7.291666666666667s"></animate>
				</path><path d="M2220 449.5 L265.57567003311715 449.5 A15 15 0 0 0 265.57567003311715 480.5 L2220 480.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-47.3041321787051;0;-47.3041321787051" begin="-7.8125s"></animateTransform>
				</path><path d="M371.8467886572612 449.5 L382.7041722712392 449.5 A15 15 0 0 1 382.7041722712392 480.5 L371.8467886572612 480.5 A15 15 0 0 1 371.8467886572612 449.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-7.8125s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-7.8125s"></animate>
				</path><path d="M2220 479.5 L299.53260400010004 479.5 A15 15 0 0 1 299.53260400010004 510.5 L2220 510.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="30.785450528824477;0;30.785450528824477" begin="-8.333333333333332s"></animateTransform>
				</path><path d="M1974.6347618582977 479.5 L1999.2695237165954 479.5 A15 15 0 0 1 1999.2695237165954 510.5 L1974.6347618582977 510.5 A15 15 0 0 1 1974.6347618582977 479.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;-2499.5539233985473" begin="-8.333333333333332s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-8.333333333333332s"></animate>
				</path><path d="M2220 509.5 L254.9114261484042 509.5 A15 15 0 0 0 254.9114261484042 540.5 L2220 540.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-42.431930640476764;0;-42.431930640476764" begin="-8.854166666666666s"></animateTransform>
				</path><path d="M368.2763694886012 509.5 L396.2635965008052 509.5 A15 15 0 0 1 396.2635965008052 540.5 L368.2763694886012 540.5 A15 15 0 0 1 368.2763694886012 509.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-8.854166666666666s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-8.854166666666666s"></animate>
				</path><path d="M2220 539.5 L327.54964981382136 539.5 A15 15 0 0 1 327.54964981382136 570.5 L2220 570.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="30.768685292185666;0;30.768685292185666" begin="-9.375s"></animateTransform>
				</path><path d="M1967.4464717780672 539.5 L1984.8929435561345 539.5 A15 15 0 0 1 1984.8929435561345 570.5 L1967.4464717780672 570.5 A15 15 0 0 1 1967.4464717780672 539.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;1" values="0;-1776.8140040765202" begin="-9.375s"></animateTransform>
				  <animate attributeName="opacity" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-9.375s"></animate>
				</path><path d="M2220 569.5 L266.25783352347275 569.5 A15 15 0 0 0 266.25783352347275 600.5 L2220 600.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-48.82111318695491;0;-48.82111318695491" begin="-9.895833333333334s"></animateTransform>
				</path><path d="M377.86730477646256 569.5 L409.74252576678606 569.5 A15 15 0 0 1 409.74252576678606 600.5 L377.86730477646256 600.5 A15 15 0 0 1 377.86730477646256 569.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-9.895833333333334s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-9.895833333333334s"></animate>
				</path><path d="M2220 599.5 L304.68318321677543 599.5 A15 15 0 0 1 304.68318321677543 630.5 L2220 630.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="43.58612365316009;0;43.58612365316009" begin="-10.416666666666668s"></animateTransform>
				</path><path d="M1969.3057742958856 599.5 L1988.6115485917712 599.5 A15 15 0 0 1 1988.6115485917712 630.5 L1969.3057742958856 630.5 A15 15 0 0 1 1969.3057742958856 599.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;-2175.8362849477285" begin="-10.416666666666668s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-10.416666666666668s"></animate>
				</path><path d="M2220 629.5 L291.2839132151769 629.5 A15 15 0 0 0 291.2839132151769 660.5 L2220 660.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-34.23033962341002;0;-34.23033962341002" begin="-10.9375s"></animateTransform>
				</path><path d="M418.67133777422373 629.5 L452.92619859197345 629.5 A15 15 0 0 1 452.92619859197345 660.5 L418.67133777422373 660.5 A15 15 0 0 1 418.67133777422373 629.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-10.9375s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-10.9375s"></animate>
				</path><path d="M2220 659.5 L340.90503256667375 659.5 A15 15 0 0 1 340.90503256667375 690.5 L2220 690.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="46.01006595135965;0;46.01006595135965" begin="-11.458333333333334s"></animateTransform>
				</path><path d="M1979.4660631334973 659.5 L2008.9321262669946 659.5 A15 15 0 0 1 2008.9321262669946 690.5 L1979.4660631334973 690.5 A15 15 0 0 1 1979.4660631334973 659.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;-2111.853503499772" begin="-11.458333333333334s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-11.458333333333334s"></animate>
				</path><path d="M2220 689.5 L319.7442056992704 689.5 A15 15 0 0 0 319.7442056992704 720.5 L2220 720.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-33.762955151228;0;-33.762955151228" begin="-11.979166666666666s"></animateTransform>
				</path><path d="M398.6377075856494 689.5 L432.8632526083444 689.5 A15 15 0 0 1 432.8632526083444 720.5 L398.6377075856494 720.5 A15 15 0 0 1 398.6377075856494 689.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-11.979166666666666s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-11.979166666666666s"></animate>
				</path><path d="M2220 719.5 L331.8566889767392 719.5 A15 15 0 0 1 331.8566889767392 750.5 L2220 750.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="49.586416665944014;0;49.586416665944014" begin="-12.5s"></animateTransform>
				</path><path d="M1978.9718561704747 719.5 L2007.9437123409493 719.5 A15 15 0 0 1 2007.9437123409493 750.5 L1978.9718561704747 750.5 A15 15 0 0 1 1978.9718561704747 719.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;1" values="0;-2066.854654792715" begin="-12.5s"></animateTransform>
				  <animate attributeName="opacity" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-12.5s"></animate>
				</path><path d="M2220 749.5 L308.36698029659806 749.5 A15 15 0 0 0 308.36698029659806 780.5 L2220 780.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-42.07313968699356;0;-42.07313968699356" begin="-13.020833333333332s"></animateTransform>
				</path><path d="M418.05028780564885 749.5 L437.0059216587136 749.5 A15 15 0 0 1 437.0059216587136 780.5 L418.05028780564885 780.5 A15 15 0 0 1 418.05028780564885 749.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-13.020833333333332s"></animateTransform>
				  <animate attributeName="opacity" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-13.020833333333332s"></animate>
				</path><path d="M2220 779.5 L360.5083472840711 779.5 A15 15 0 0 1 360.5083472840711 810.5 L2220 810.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="29.488962668216978;0;29.488962668216978" begin="-13.541666666666666s"></animateTransform>
				</path><path d="M1984.2915620082474 779.5 L2018.5831240164948 779.5 A15 15 0 0 1 2018.5831240164948 810.5 L1984.2915620082474 810.5 A15 15 0 0 1 1984.2915620082474 779.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;-2520.1285237448683" begin="-13.541666666666666s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-13.541666666666666s"></animate>
				</path><path d="M2220 809.5 L338.4221128293441 809.5 A15 15 0 0 0 338.4221128293441 840.5 L2220 840.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-44.0152339569933;0;-44.0152339569933" begin="-14.0625s"></animateTransform>
				</path><path d="M396.5250119169343 809.5 L416.1993320857774 809.5 A15 15 0 0 1 416.1993320857774 840.5 L396.5250119169343 840.5 A15 15 0 0 1 396.5250119169343 809.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-14.0625s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-14.0625s"></animate>
				</path><path d="M2220 839.5 L349.94582286261766 839.5 A15 15 0 0 1 349.94582286261766 870.5 L2220 870.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="37.47754371149816;0;37.47754371149816" begin="-14.583333333333334s"></animateTransform>
				</path><path d="M1987.1035831875922 839.5 L2024.2071663751844 839.5 A15 15 0 0 1 2024.2071663751844 870.5 L1987.1035831875922 870.5 A15 15 0 0 1 1987.1035831875922 839.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;1" values="0;-2412.9079895391997" begin="-14.583333333333334s"></animateTransform>
				  <animate attributeName="opacity" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-14.583333333333334s"></animate>
				</path><path d="M2220 869.5 L314.84912076430055 869.5 A15 15 0 0 0 314.84912076430055 900.5 L2220 900.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-38.32926549918914;0;-38.32926549918914" begin="-15.104166666666668s"></animateTransform>
				</path><path d="M391.55798889022753 869.5 L416.56974714585436 869.5 A15 15 0 0 1 416.56974714585436 900.5 L391.55798889022753 900.5 A15 15 0 0 1 391.55798889022753 869.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-15.104166666666668s"></animateTransform>
				  <animate attributeName="opacity" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-15.104166666666668s"></animate>
				</path><path d="M2220 899.5 L346.8278580106082 899.5 A15 15 0 0 1 346.8278580106082 930.5 L2220 930.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="39.41829343890295;0;39.41829343890295" begin="-15.625s"></animateTransform>
				</path><path d="M1966.5754594085115 899.5 L1983.150918817023 899.5 A15 15 0 0 1 1983.150918817023 930.5 L1966.5754594085115 930.5 A15 15 0 0 1 1966.5754594085115 899.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;-2164.5201010551154" begin="-15.625s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-15.625s"></animate>
				</path><path d="M2220 929.5 L276.0847899920466 929.5 A15 15 0 0 0 276.0847899920466 960.5 L2220 960.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="3.125s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-29.770989791233355;0;-29.770989791233355" begin="-16.145833333333336s"></animateTransform>
				</path><path d="M424.05793445482163 929.5 L459.46493705636004 929.5 A15 15 0 0 1 459.46493705636004 960.5 L424.05793445482163 960.5 A15 15 0 0 1 424.05793445482163 929.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-16.145833333333336s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-16.145833333333336s"></animate>
				</path><path d="M2220 959.5 L318.0625439356302 959.5 A15 15 0 0 1 318.0625439356302 990.5 L2220 990.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="37.399111437388555;0;37.399111437388555" begin="-16.666666666666664s"></animateTransform>
				</path><path d="M1980.6660921510584 959.5 L2011.3321843021167 959.5 A15 15 0 0 1 2011.3321843021167 990.5 L1980.6660921510584 990.5 A15 15 0 0 1 1980.6660921510584 959.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;-2337.179008277076" begin="-16.666666666666664s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-16.666666666666664s"></animate>
				</path><path d="M2220 989.5 L295.35546038405255 989.5 A15 15 0 0 0 295.35546038405255 1020.5 L2220 1020.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-47.826934125355095;0;-47.826934125355095" begin="-17.1875s"></animateTransform>
				</path><path d="M407.0509729588598 989.5 L422.41562366514665 989.5 A15 15 0 0 1 422.41562366514665 1020.5 L407.0509729588598 1020.5 A15 15 0 0 1 407.0509729588598 989.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-17.1875s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-17.1875s"></animate>
				</path><path d="M2220 1019.5 L322.5628591063187 1019.5 A15 15 0 0 1 322.5628591063187 1050.5 L2220 1050.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="47.13994418403211;0;47.13994418403211" begin="-17.708333333333332s"></animateTransform>
				</path><path d="M1976.930041085285 1019.5 L2003.86008217057 1019.5 A15 15 0 0 1 2003.86008217057 1050.5 L1976.930041085285 1050.5 A15 15 0 0 1 1976.930041085285 1019.5" fill="#000">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;1" values="0;-2595.2095530002025" begin="-17.708333333333332s"></animateTransform>
				  <animate attributeName="opacity" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-17.708333333333332s"></animate>
				</path><path d="M2220 1049.5 L299.4459476519605 1049.5 A15 15 0 0 0 299.4459476519605 1080.5 L2220 1080.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="2.0833333333333335s" repeatCount="indefinite" keyTimes="0;0.5;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" values="-25.809524763912123;0;-25.809524763912123" begin="-18.229166666666664s"></animateTransform>
				</path><path d="M387.74467051984357 1049.5 L405.80843322772745 1049.5 A15 15 0 0 1 405.80843322772745 1080.5 L387.74467051984357 1080.5 A15 15 0 0 1 387.74467051984357 1049.5" fill="#fff">
				  <animateTransform attributeName="transform" type="translate" dur="6.25s" repeatCount="indefinite" keyTimes="0;1" values="0;0" begin="-18.229166666666664s"></animateTransform>
				  <animate attributeName="opacity" dur="6.25s" repeatCount="indefinite" keyTimes="0;0.3;1" values="1;1;0" begin="-18.229166666666664s"></animate>
				</path>    </g>
				  </mask>
				</defs>
				<rect x="0" y="0" width="1920" height="1080" fill="url(#ldbk-photon-ffi5kuty65v-lg)" mask="url(#ldbk-photon-ffi5kuty65v-mask)"></rect></g></svg></div>
				
				</div></div></div>
		</div>
		<div id="p">˗ˏˋ ​progress
			<span id="progress">1</span> / 15 ˎˊ˗
			<div id="n">
				<div id="monster"  class="fight_screen"></div>
				<div id="p1_state" class="fight_screen" ></div>
			</div>
			
		</div>
		<div id="ouo">
			<input id="go" type="button" value="前進">
			<input id="back" type="button" value="撤退">
			<input id="tool" type="button" value="道具">	
			</div>
		<div class="ctbox">
			<p id="chatbox" class="ml3">進入初級挑戰˙ˇ˙</p>
			<div id="msg_end" style="height:0px; overflow:hidden"></div>
		</div>
		<div id="battle_display" >
			<input id="attack" type="button" value="攻擊">
			<input id="skill" type="button" value="技能">
			<input id="run_out" type="button" value="逃跑">
			<input id="take_look" type="button" value="偵查">
			
			</div>
		</div>
		<div id="kill_or_forgive" class="choose">
			<input id="kill" type="button" value="給予最後的制裁並汲取其能量"></input>
			<input id="forgive" type="button" value="賦予神聖的慈悲使其回歸自然"></input>
		</div>
		<div id="open_or_skip" class="choose">
			<input id="open" type="button" value="打開看看"></input>
			<input id="skip" type="button" value="還是算了..."></input>
		</div>
		<script>
			var pd=localStorage.getItem("&philosopher's_stone");
			var sanj=0;
			var thh=localStorage.getItem("&thief");
			var gogo=0;
			var boss_f=0;
			var combo=1;
			var mb=0;
			var low_san=0;
			var battle=0;
			var oos = document.getElementById("open_or_skip");
			var kof = document.getElementById("kill_or_forgive");
			var bd = document.getElementById("battle_display");
			var p1s = document.getElementById("p1_state");
			var mons = document.getElementById("monster");
			var talk = document.getElementById("chatbox");
			var back = document.getElementById("back");
			var player_name=localStorage.getItem("start_adventure");
			var state=JSON.parse(localStorage.getItem(player_name));
			var backpack=JSON.parse(localStorage.getItem("&backpack"));
			var p=1,quitalt=0,money;
			var step;
			var loser;
			var HP,atk,def,spd,lv,exp,name;
			var enemy={
				HP,atk,def,spd,lv,exp,name
			};
			function amt(){
				var textWrapper = document.querySelector('.ml3');
				textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");
				anime.timeline({loop: false})
				.add({
					targets: '.ml3 .letter',
					opacity: [0,1],
					duration: 10,
					delay: (el, i) => 90 * (i+1)
				});
				
			}
			//以下戰鬥
			function fight(){
				bd.style.visibility= "visible";
				n.style.visibility= "visible";
				console.log(state);
				if(boss_f==1){
					enemy.name="茲茲";
					enemy.HP=314;
					enemy.atk=24;
					enemy.def=22;
					enemy.spd=8;
					enemy.lv=3;
					enemy.exp=20;
				}
				else{
					var rmm=Math.random();
					if(rmm>0.5){
						enemy.name="威威";
						enemy.HP=114;
						enemy.atk=21;
						enemy.def=22;
						enemy.spd=7;
						enemy.lv=2;
						enemy.exp=2;
					}
					else{
						enemy.name="寇寇";
						enemy.HP=214;
						enemy.atk=17;
						enemy.def=2;
						enemy.spd=6;
						enemy.lv=2;
						enemy.exp=2;
					}
				}
				step=0;
				combo=1;
				loser=0;
				state_load();
			}
			function go_atk(){
				if(mb==1)stun();
				else{
					step++;
					var damage=Math.floor(Math.random()*(state.atk+100*(1+(state.lv-enemy.lv)*0.1)/(enemy.def+50)));
					talk.innerHTML = "第"+step+"回合<br>"+"你對"+enemy.name+"攻擊<br>造成了"+damage+"點傷害!";
					var dbhit=(state.spd-enemy.spd)/10;
					var dbcheck=Math.random();
					if(dbhit>dbcheck){
						talk.innerHTML += "<br>你的速度太快了，對方根本來不及反應，因此你多補了一刀!<br>造成額外"+damage+"點傷害!";
						enemy.HP-=damage;
					}
					enemy.HP-=damage;
					enemy_turn();
					sanjudge();
					state_load();
				}
			}
			function enemy_turn(){
				var atk_type=Math.random();
				if(atk_type>0.5){
					var hurt=Math.floor(Math.random()*(enemy.atk-state.def/10)*(1+(enemy.lv-state.lv)*0.1));
					talk.innerHTML+="<br>"+enemy.name+"攻擊<br>你受到了"+hurt+"點傷害!";
					state.HP-=hurt;
					if(boss_f==1){
						var boss_s=Math.random()*0.3;
						var boss_check=Math.random();
						if(boss_s>boss_check){
							talk.innerHTML = "<br>茲茲的觸手放出電流讓你麻痺了!";
							mb=1;
						}
					}
					diejudge();
				}
				else{
					var spirit=Math.floor(enemy.atk/4*(1+(enemy.lv-state.lv)*0.1));
					talk.innerHTML+="<br>"+enemy.name+"對你使用精神衝擊<br>你受到了"+spirit+"點精神傷害!";
					state.SP-=spirit;
					sanjudge();
				}
			}
			function go_skill(){
				if(state.gender==1||state.gender==0)alert("這個人什麼也不會QAQ");
				else if(mb==1){
					stun();
				}
				else if(state.gender==2){
					mb=1;
					step++;
					var damage=Math.floor(Math.random()*(state.atk+100*(1+(state.lv-enemy.lv)*0.1)/(enemy.def+50))*1.35);
					talk.innerHTML = "第"+step+"回合<br>"+"你對"+enemy.name+"使用了<span class='aboriginal'>【原住民爆擊的啦】</span><br>造成了"+damage+"點傷害!";
					enemy.HP-=damage;
				}
				else if(state.gender==3){
					step++;
					var damage=Math.floor(Math.random()*(state.atk+100*(1+(state.lv-enemy.lv)*0.1)/(enemy.def+50)));
					var heal=Math.floor(damage/10);
					talk.innerHTML = "第"+step+"回合<br>"+"你對"+enemy.name+"用<span class='aboriginal'>【奪取你的靈魂】</span><br>造成了"+damage+"點傷害!<br>你回復了"+heal+"點生命值";
					state.HP=Math.min(state.MAXHP,state.HP+heal);
					state.SP-=10;
					enemy.HP-=damage;
				}
				else if(state.gender==4){
					step++;
					var heal=Math.floor(state.MAXHP/2);
					talk.innerHTML = "第"+step+"回合<br>"+"你使用了<span class='aboriginal'>【超量治癒】</span><br>你回復了"+heal+"點生命值";
					state.HP+=heal;
					state.SP-=15;
				}
				else if(state.gender==5){
					step++;
					var damage=Math.floor(Math.random()*(state.atk+100*(1+(state.lv-enemy.lv)*0.1)/(enemy.def+50))*combo);
					talk.innerHTML = "第"+step+"回合<br>"+"你對"+enemy.name+"用<span class='aboriginal'>【嚶嚶嚶拿小拳拳捶你胸口】</span><br>造成了"+damage+"點傷害!";
					combo+=0.1;
					state.SP-=5;
					enemy.HP-=damage;
				}
				else if(state.gender==6){
					step++;
					var healSP=Math.floor(state.MAXSP/3);
					talk.innerHTML = "第"+step+"回合<br>"+"你使用了<span class='aboriginal'>【氣定神閒】</span><br>你回復了"+healSP+"點精神!";
					state.SP=Math.min(state.SP+healSP,state.MAXSP);
				}
				else if(state.gender==7){
					step++;
					var damage=Math.floor(Math.random()*(state.atk+100*(1+(state.lv-enemy.lv)*0.1)/(enemy.def+50))*combo);
					damage = Math.floor(damage*(1+0.01*(state.MAXHP-state.HP)));
					talk.innerHTML = "第"+step+"回合<br>"+"你對"+enemy.name+"用<span class='aboriginal'>【復仇反擊】</span><br>造成了"+damage+"點傷害!";
					state.SP-=8;
					enemy.HP-=damage;
				}
				else if(state.gender==8){
					step++;
					var damage=Math.floor(Math.random()*(state.atk+100*(1+(state.lv-enemy.lv)*0.1)/(enemy.def+50))*0.85);
					talk.innerHTML = "第"+step+"回合<br>"+"你對"+enemy.name+"用<span class='aboriginal'>【客+1擊】</span><br>造成了"+damage+"點傷害!<br>你偷了三塊錢";
					money+=3;
					enemy.HP-=damage;
					state.SP-=1;
				}
				else if(state.gender==9){
					step++;
					talk.innerHTML = "第"+step+"回合<br>"+"你對"+enemy.name+"用<span class='aboriginal'>【看破紅塵】</span><br>你無視了他的防禦";
					state.SP-=10;
					enemy.def=0;
				}
				if(state.gender!=1&&state.gender!=0&&mb==0){
					enemy_turn();
					sanjudge();
					state_load();
				}
			}
			function stun(){
				mb=0;
				step++;
				talk.innerHTML = "第"+step+"回合<br>"+"你暈眩了!";
				enemy_turn();
				sanjudge();
				state_load();
			}
			function runaway(){
				if(mb==1)stun();
				else{
					var run=0.5+(state.spd-enemy.spd)*0.1;
					if(run>Math.random()){
						loser=1;
						talk.innerHTML = "成功逃跑了";
						amt();
						sanjudge();
						state_load();
					}
					else{
						talk.innerHTML = "敵人追上來了!";
						enemy_turn();
						sanjudge();
						state_load();
					}
				}
			}
			function go_look(){
				if(mb==1)stun();
				else{
					step++;
					talk.innerHTML = "第"+step+"回合<br>"+"你觀察了"+enemy.name;
					alert("敵人名稱:"+enemy.name+"\n等級"+enemy.lv+"\n攻擊力"+enemy.atk+"\n防禦力"+enemy.def+"\n速度"+enemy.spd);
					enemy_turn();
					sanjudge();
					state_load();
					console.log(enemy);
				}
			}
			function state_load(){
				p1s.innerHTML= "魔法少女 "+player_name+"還剩下:<br>"+state.HP+"/"+state.MAXHP+"的生命值跟"+state.SP+"/"+state.MAXSP+"的san值";
				mons.innerHTML="<br>"+enemy.name+"還有"+enemy.HP+"的生命值";
				mons.innerHTML+="<img class='wooden' src='"+enemy.name+".png'>";
				if(loser==1){
					battle=0;
					bd.style.visibility= "hidden";
					n.style.visibility= "hidden";
				}
				else if(enemy.HP<=0){
					battle=0;
					bd.style.visibility= "hidden";
					n.style.visibility= "hidden";
					kof.style.visibility= "visible";
					talk.innerHTML="你戰勝了"+enemy.name+"，現在他任憑你處置，你會......?";
					mb=0;
					amt();
				}
			}
			function kill(){
				sanjudge();
				talk.innerHTML="第"+step+"回合<br>"+enemy.name+"被你打爆了!<br>你獲得了"+enemy.exp+"點經驗值<br>你獲得了3$!";
				money+=3;
				state.exp+=enemy.exp;
				state.sin-=100;
				if(state.lv<enemy.lv){
					state.exp=0;
					state.lv=enemy.lv;
					talk.innerHTML+="<br>魔法少女"+player_name+"吸收了"+enemy.name+"現在升級了!現在等級"+state.lv+"等";
				}
				else if(state.exp>=100&&state.lv<=10){
					state.exp=0;
					state.lv+=1;
					talk.innerHTML+="<br>魔法少女"+player_name+"升級了!現在等級"+state.lv+"等";
				}
				kof.style.visibility= "hidden";
			}
			function forgive(){
				sanjudge();
				talk.innerHTML="第"+step+"回合<br>"+"你戰勝了"+enemy.name+"並且放了它<br>你獲得了3$!";
				money+=3;
				state.sin+=2;
				kof.style.visibility= "hidden";
			}
			//以上
			function boss_fight(){
				gogo=0;
				talk.innerHTML = "BOSS茲茲出現了!!!";
				boss_f=1;
				amt();
				fight();
			}
			function open(){
				var kr=Math.floor(Math.random()*10);
				if(kr==0&&thh!='1'){
					var damage=Math.floor(state.MAXHP*0.1);
					talk.innerHTML = "寶箱爆炸了!!!你受到了"+damage+"點傷害!";
					state.HP-=damage;
					diejudge();
				}
				else if(kr==1&&thh!='1'){
					var damage=Math.floor(state.MAXSP*0.1);
					talk.innerHTML = "寶箱飛出一堆蟲蟲TAT你受到了"+damage+"點精神傷害!";
					state.SP-=damage
					sanjudge();
				}
				else if(kr==2){
					talk.innerHTML = "這箱子裡什麼都沒裝...";
				}
				else if(kr==3){
					talk.innerHTML = "這箱子裡面有錢欸~($+50)";
					money+=50;
				}
				else if(kr==4){
					talk.innerHTML = "你在箱子裡找到一個不知道放了多久的飯米團...";
					backpack.riceball++;
					localStorage.setItem("&backpack",JSON.stringify(backpack));
				}
				else if(kr==5){
					talk.innerHTML = "你在箱子裡找到一杯不知道放了多久的紅茶...";
					backpack.redtea++;
					localStorage.setItem("&backpack",JSON.stringify(backpack));
				}
				else if(kr==6){
					talk.innerHTML = "你在箱子裡找到一顆因為放太久已經變成皮蛋的茶葉蛋...";
					backpack.teaegg++;
					localStorage.setItem("&backpack",JSON.stringify(backpack));
				}
				else if(kr==7){
					talk.innerHTML = "你發現了紅色的果實，你發揮勤儉的美德把它吃掉了(攻擊+1)";
					state.atk+=1;
					localStorage.setItem(player_name,JSON.stringify(state));
				}
				else if(kr==8){
					talk.innerHTML = "你發現了藍色的果實，你發揮勤儉的美德把它吃掉了(防禦+1)";
					state.def+=1;
					localStorage.setItem(player_name,JSON.stringify(state));
				}
				else{
					talk.innerHTML = "你在箱子裡找到一張紙條，上面寫著「裡面的東西已經被太陽拿走了^^」...";
				}
				amt();
				oos.style.visibility="hidden";
			}
			function skip(){
				talk.innerHTML = "你無視了箱子...";
				amt();
				oos.style.visibility="hidden";
			}
			function random_event(){
				gogo=0;
				var r=Math.floor(Math.random()*4);
				if(r==0){
					talk.innerHTML = "遭遇怪物!";
					battle=1;
					fight();
				}	
				else if(r==1){
					talk.innerHTML = "撿到10元~";
					money+=10;
				}
				else if(r==2){
					talk.innerHTML = "什麼事情都沒發生";
				}
				else{
					talk.innerHTML = "發現了奇怪的箱子!";
					oos.style.visibility="visible";
				}
				amt();
			}
			function go_step(){
				oos.style.visibility="hidden";
				kof.style.visibility= "hidden";
				if(gogo==1){
					alert("你也太急了吧?");
				}
				else if(battle==1){
					alert("你還在打架欸想跑去哪?");
				}
				else{
					combo=1;
					++p;
					sanjudge();
					document.getElementById("progress").innerHTML=p;
					if(p==16){
						document.getElementById("progress").innerHTML="end";
						talk.innerHTML = "恭喜你通過了初級關卡(獎勵100$)!";
						if(localStorage.getItem("&Level_2")=='0'){
							talk.innerHTML = "恭喜你首次通關初級關卡(獎勵500$)!";
							money+=400;
						}
						money+=100
						localStorage.setItem("$",money);
						localStorage.setItem("&Level_2",1);
						amt();
						back.value="凱旋而歸";
						quitalt=1;
					}
					else if(p==15){
						if(pd=='1'){
							state.HP=Math.min(state.HP+3,state.MAXHP);
							state.SP=Math.min(state.SP+1,state.MAXSP);
						}
						talk.innerHTML = "前進中...";
						gogo=1;
						amt();
						battle=1;
						setTimeout(boss_fight,1000);
						quitalt=0;
					}
					else if(p<15){
						if(pd=='1'){
							state.HP=Math.min(state.HP+3,state.MAXHP);
							state.SP=Math.min(state.SP+1,state.MAXSP);
						}
						talk.innerHTML = "前進中...";
						gogo=1;
						amt();
						setTimeout(random_event,1000);
						quitalt=0;
					}
					else{
						talk.innerHTML = "這前面什麼都沒有了";
						amt();
						quitalt=1;
					}
				}
			}
			function go_home(){
				talk.innerHTML = "你是否確定要離開?(確定請再次點擊撤退鈕)";
				amt();
				++quitalt;
				if(quitalt==2){
					localStorage.setItem(player_name,JSON.stringify(state));
					document.location.href="adventure.html";
				}
			}
			function sanjudge(){
				if(state.SP<-50){
					alert("魔法少女"+player_name+"的精神崩潰了!");
					state.HP-=20;
					state.SP-=5;
					state.def=Math.floor(state.def*0.8);
				}
				else if(state.SP<=0){
					var l=Math.random();
					if(l<0.5){
						if(sanj==0){
							alert("魔法少女"+player_name+"的狀況看起來不太好，建議快點回家");
							sanj=1;
						}
						state.HP-=5;
						alert("魔法少女"+player_name+"對自己造成了5點傷害");
					}
				}
				else{
					sanj=0;
				}
				localStorage.setItem(player_name,JSON.stringify(state));
				diejudge();
			}
			function diejudge(){
				if(state.HP<=0){
					alert("魔法少女"+player_name+"死了");
					again = parseInt(window.prompt("是否要吃茶葉蛋復活?(是/否=輸入1/other)"));
					if(again==1&&backpack.teaegg>0){
						alert(player_name+"復活了!但心靈跟肉體受到了重創(HP上限跟SP上限-10%)");
						state.MAXHP=Math.floor(state.MAXHP*0.9);
						state.MAXSP=Math.floor(state.MAXSP*0.9);
						state.HP=1;
						state.SP=1;
						localStorage.setItem(player_name,JSON.stringify(state));
					}
					else{
						alert("由於沒有茶葉蛋，魔法少女"+player_name+"化成了碎片消失在空中...");
						state.live=0;
						state.gender=15;
						localStorage.setItem(player_name,JSON.stringify(state));
						window.location.href="start_page.html";
					}
				}
			}
			function use_t(){
				if(battle==1){
					alert("我不覺得在戰鬥的時候敵人會讓你有機會吃午餐");
				}
				else{
					if(backpack.riceball+backpack.redtea+backpack.teaegg+backpack.beefnoodles==0){
						alert("你翻了一下包包，然後發現你什麼都沒帶");
					}
					else{
						u = parseInt(window.prompt( "你要吃什麼呢?\n0.隨便阿\n1.過期飯糰\n2.HP藥劑\n3.鳳凰の卵\n4.涼麵"));
						if(u>4||u<1){
							alert("你好像又不餓了，收起了背包");
						}
						else if(u==1){
							if(backpack.riceball==0){
								alert("你的背包裡好像沒這東西...");
							}
							else{
								backpack.riceball-=1;
								alert("你吃了幾口放了5天的龍蝦沙拉飯糰，感到一陣噁心，但至少填飽了肚子(HP+10,SP-3)");
								state.HP=Math.min(state.HP+10,state.MAXHP);
								state.SP-=3;
							}
						}
						else if(u==2){
							if(backpack.redtea==0){
								alert("你的背包裡好像沒這東西...");
							}
							else{
								backpack.redtea-=1;
								alert("你喝了一口HP藥劑，SP回復了(SP+5)");
								state.SP=Math.min(state.SP+5,state.MAXSP);
							}
						}
						else if(u==3){
							if(backpack.teaegg==0){
								alert("你的背包裡好像沒這東西...");
							}
							else{
								backpack.teaegg-=1;
								alert("你吃的很飽，但你的口很渴");
							}
						}
						else if(u==4){
							if(backpack.beefnoodles==0){
								alert("你的背包裡好像沒這東西...");
							}
							else{
								backpack.beefnoodles-=1;
								alert("你吃了這碗放了好久的牛肉麵，吃完一肚子火(HP+50,SP+10,ATK+1)");
								state.HP=Math.min(state.SP+10,state.MAXSP);
								state.SP=Math.min(state.HP+50,state.MAXSP);
								state.ATK++;
							}
						}
						sanjudge();
						localStorage.setItem("&backpack",JSON.stringify(backpack));
					}
				}
				quitalt=0;
			}
			function start(){
				if(localStorage.getItem("Is_of_level2")!='1'){
					alert("「撲通、撲通」");
					alert("心跳聲清晰可聞。");
					alert("那張剛剛從新手訓練場終點的寶箱裡發現的紙條，在你逐漸用力緊握的手掌中成了紙團，但勉強還能看見上面的文字：")
					alert("「來吧，我親愛的魔法少女們。\n這裡可不是鬧著玩的。\n高風險，也伴隨著高報酬，請自行拿捏好當中取捨。\n我在這裡等待你的到來。\nH」");
					localStorage.setItem("Is_of_level2",1);
				}
				oos.style.visibility="hidden";
				kof.style.visibility="hidden";
				document.getElementById("open").addEventListener("click",open,false);
				document.getElementById("skip").addEventListener("click",skip,false);
				document.getElementById("kill").addEventListener("click",kill,false);
				document.getElementById("forgive").addEventListener("click",forgive,false);
				document.getElementById("take_look").addEventListener("click",go_look,false);
				document.getElementById("attack").addEventListener("click",go_atk,false);
				document.getElementById("skill").addEventListener("click",go_skill,false);
				document.getElementById("run_out").addEventListener("click",runaway,false);
				bd.style.visibility= "hidden";
				money=localStorage.getItem("$");
				money=parseInt(money);
				document.getElementById("go").addEventListener("click",go_step,false);
				document.getElementById("back").addEventListener("click",go_home,false);
				document.getElementById("tool").addEventListener("click",use_t,false);
				amt();
			}
			window.addEventListener("load",start,false);
		</script>
	</body>
</html>
